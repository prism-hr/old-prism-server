<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN 2.0//EN" "http://www.springframework.org/dtd/spring-beans-2.0.dtd">

<beans>

	<!--Application submitted -->
	<bean id="applicantSubmissionNotificationTimerTask"
		class="com.zuehlke.pgadmissions.timers.StateChangeNotificationTask">
		<constructor-arg index="0" ref="sessionFactoryMail" />
		<constructor-arg index="1" ref="mailApplicationDAO" />
		<constructor-arg index="2" ref="applicantMailSender" />
		<constructor-arg index="3"
			value="APPLICANT_SUBMISSION_NOTIFICATION" />
		<constructor-arg index="4" value="VALIDATION" />
		<constructor-arg index="5" value="has been recieved" />
		<constructor-arg index="6"
			value="private/pgStudents/mail/application_submit_confirmation.ftl" />
	</bean>

	<bean id="applicantSubmissionNotificationSchedule" class="org.springframework.scheduling.timer.ScheduledTimerTask">
		<property name="delay" value="10500" />
		<property name="period" value="60000" />
		<property name="timerTask" ref="applicantSubmissionNotificationTimerTask" />
	</bean>
	
	<!-- move to review notifications -->
	<bean id="moveToReviewNotificationTimerTask"
		class="com.zuehlke.pgadmissions.timers.StateChangeNotificationTask">
		<constructor-arg index="0" ref="sessionFactoryMail" />
		<constructor-arg index="1" ref="mailApplicationDAO" />
		<constructor-arg index="2" ref="applicantMailSender" />
		<constructor-arg index="3"
			value="APPLICANT_MOVED_TO_REVIEW_NOTIFICATION" />
		<constructor-arg index="4" value="REVIEW" />
		<constructor-arg index="5" value="now being reviewed" />
		<constructor-arg index="6"
			value="private/pgStudents/mail/moved_to_review_notification.ftl" />
	</bean>

	<bean id="moveToReviewNotificationSchedule" class="org.springframework.scheduling.timer.ScheduledTimerTask">
		<property name="delay" value="10000" />
		<property name="period" value="60000" />
		<property name="timerTask" ref="moveToReviewNotificationTimerTask" />
	</bean>
	
	
	<!-- move to review notifications -->
	<bean id="moveToInterviewNotificationTimerTask"
		class="com.zuehlke.pgadmissions.timers.StateChangeNotificationTask">
		<constructor-arg index="0" ref="sessionFactoryMail" />
		<constructor-arg index="1" ref="mailApplicationDAO" />
		<constructor-arg index="2" ref="applicantMailSender" />
		<constructor-arg index="3"
			value="APPLICANT_MOVED_TO_INTERVIEW_NOTIFICATION" />
		<constructor-arg index="4" value="INTERVIEW" />
		<constructor-arg index="5" value="interview arranged" />
		<constructor-arg index="6"
			value="private/pgStudents/mail/moved_to_interview_notification.ftl" />
	</bean>

	<bean id="moveToInterviewNotificationSchedule" class="org.springframework.scheduling.timer.ScheduledTimerTask">
		<property name="delay" value="10000" />
		<property name="period" value="60000" />
		<property name="timerTask" ref="moveToInterviewNotificationTimerTask" />
	</bean>
</beans>