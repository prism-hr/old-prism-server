<!DOCTYPE HTML>
<#import "/spring.ftl" as spring />
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>UCL Postgraduate Admissions</title>

<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

<link type="text/css" rel="stylesheet" href="<@spring.url '/design/default/css/private/global_private.css'/>" />
<link type="text/css" rel="stylesheet" href="<@spring.url '/design/default/css/private/application.css'/>" />
<link type="text/css" rel="stylesheet" href="<@spring.url '/design/default/css/private/staff/add_interviewer.css'/>" />
<link type="text/css" rel="stylesheet"href="<@spring.url '/design/default/css/actions.css' />" />

<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
</head>

<!--[if IE 9]>
<body class="ie9">
<![endif]-->
<!--[if lt IE 9]>
<body class="old-ie">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<body>
<!--<![endif]-->

<div id="wrapper">

	<#include "/private/common/global_header.ftl"/>
	
	<!-- Middle. -->
	<div id="middle">
	
		<#include "/private/common/parts/nav_with_user_info.ftl"/>
	       <@header/>
		<!-- Main content area. -->
		<article id="content" role="main">
		
			<!-- FLOATING TOOLBAR -->
			<ul id="view-toolbar" class="toolbar">
				<li class="top"><a href="javascript:backToTop();" title="Back to top">Back to top</a></li>
				<li class="print"><a target="_blank" href="<@spring.url '/print?applicationFormId=${applicationForm.applicationNumber}'/>" title="Click to Download">Print</a></li>
			</ul>
		
			<!-- content box -->
			<div class="content-box">
				<div class="content-box-inner">
				        
 				<#include "/private/common/parts/application_info.ftl"/>
    				<input type="hidden" id="applicationId" value="${applicationForm.applicationNumber}"/>
					
					
					<section class="form-rows" id="interviewsection">
						<h2>Assign Interviewers</h2>
						<div>
							<form>
							
								<div class="section-info-bar">
									Assign interviewers to the application here. You may also create new interviewers.
								</div>
					
								<div class="row-group" id="assignInterviewersToAppSection">			
								

								</div>
		
								<div class="row-group" id="createinterviewersection">				
									
										
								</div>
		
								<div class="row-group" id="interviewdetailsSection">
										
<<<<<<< local
=======
										<div class="row">
											<label class="plain-label normal">Interviewer Last Name<em>*</em></label>
											<span class="hint" data-desc="<@spring.message 'assignInterviewer.lastName'/>"></span>
											<div class="field">
												<input class="full" type="text" name="newInterviewerLastName" id="newInterviewerLastName" value="${(interviewer.lastName?html)!}"/>			                                      
												<@spring.bind "interviewer.lastName" /> 
												<#list spring.status.errorMessages as error> <span class="invalid">${error}</span></#list>
											</div>
										</div>
			
										<div class="row">
											<label class="plain-label normal">Interviewer Email Address<em>*</em></label>
											<span class="hint" data-desc="<@spring.message 'assignInterviewer.email'/>"></span>
											<div class="field">
												<input class="full" type="text"  name="newInterviewerEmail" id="newInterviewerEmail" value="${(interviewer.email?html)!}"/>			                                         
												<@spring.bind "interviewer.email" /> 
												<#list spring.status.errorMessages as error> <span class="invalid">${error}</span></#list>
											</div>
										</div>
		
										<div class="row">
											<div class="field">
												<button class="blue" type="button" id="createInterviewer">Add</button>
											</div>
										</div>
									</div>
		
									<div class="row-group">
										<p><strong>Interview Arrangements</strong></p>
										<div class="row">
											<label class="plain-label normal">Interview Date<em>*</em></label>
											<span class="hint" data-desc="<@spring.message 'assignInterviewer.interviewDate'/>"></span>
											<div class="field">
												<#if assignOnly?? && assignOnly>
												<input class="half date" disabled="disabled" type="text" name="interviewDate" id="interviewDate" value="${(interview.interviewDueDate?string('dd MMM yyyy'))!}" />
												<#else>
												<input class="half date" type="text" name="interviewDate" id="interviewDate" value="${(interview.interviewDueDate?string('dd MMM yyyy'))!}" />
												</#if>
												<@spring.bind "interview.interviewDueDate" /> 
												<#list spring.status.errorMessages as error> <span class="invalid">${error}</span></#list>
											</div>
										</div>
									
										<div class="row">
											<label class="plain-label normal">Interview Time (GMT/BST)<em>*</em></label>
											<span class="hint" data-desc="<@spring.message 'assignInterviewer.interviewTime'/>"></span>
											<div class="field">
												<#if assignOnly?? && assignOnly>
												<input disabled="disabled" type="text" value="${(interview.interviewTime)!}" />
												<#else>
												<#include "/private/staff/interviewers/time_dropdown.ftl"/>
												<span class="invalid" name="timeInvalid" style="display:none;"></span>
												<@spring.bind "interview.interviewTime" /> 
												<#list spring.status.errorMessages as error> <span class="invalid">${error}</span></#list>
												</#if>
											</div>
										</div>
									
										<div class="row">
											<label class="plain-label normal">Interview Instructions<em>*</em></label>
											<span class="hint" data-desc="<@spring.message 'assignInterviewer.instructions'/>"></span>
											<div class="field">
												<#if assignOnly?? && assignOnly>
												<textarea id="furtherDetails" readonly="readonly" disabled="disabled" name="furtherDetails" class="max" rows="6" cols="80" maxlength='5000'>${interview.furtherDetails!}</textarea>
												<#else>
												<textarea id="furtherDetails" name="furtherDetails" class="max" rows="6" cols="80" maxlength='5000'>${interview.furtherDetails!}</textarea>
												</#if>
												<@spring.bind "interview.furtherDetails" /> 
												<#list spring.status.errorMessages as error><br /><span class="invalid">${error}</span></#list>
											</div>
										</div>
		
										<div class="row">
											<label class="plain-label normal">Interviewer Location<em>*</em></label>
											<span class="hint" data-desc="<@spring.message 'assignInterviewer.location'/>"></span>
											<div class="field">
												<#if assignOnly?? && assignOnly>
												<textarea id="interviewLocation" readonly="readonly" disabled="disabled" name="interviewLocation" class="max" rows="1" cols="80" maxlength='5000'>${(interview.locationURL?html)!}</textarea>
												<#else>
												<textarea id="interviewLocation" name="interviewLocation" class="max" rows="1" cols="80" maxlength="5000" placeholder="e.g. http://www.ucl.ac.uk/locations/ucl-maps/">${(interview.locationURL?html)!}</textarea>
												</#if>
												<@spring.bind "interview.locationURL" /> 
												<#list spring.status.errorMessages as error> <span class="invalid">${error}</span></#list>				                                            
											</div>
										</div>
>>>>>>> other
									
								</div>
								
								<div class="buttons">
									<button value="cancel" type="button" class="clear">Clear</button>
									<button class="blue" type="button" id="moveToInterviewBtn">Submit</button>
								</div>								
								
								<input type="hidden" id="applicationId" name="applicationId" value="${applicationForm.applicationNumber}"/>
								<input type="hidden" id="interviewId" name="interviewId" value="<#if interview?? && interview.id?? >${encrypter.encrypt(interview.id)}</#if>"/> 
							</form>
						</div>
					</section>
		
					<form id="postInterviewForm" method="post" <#if assignOnly?? && assignOnly> action ="<@spring.url '/interview/assign'/>"<#else> action ="<@spring.url '/interview/move'/>" </#if>></form>
					<form id="postInterviewerForm" method="post" <#if assignOnly?? && assignOnly> action ="<@spring.url '/interview/assignNewInterviewer'/>" <#else> action ="<@spring.url '/interview/createInterviewer'/>" </#if>></form>

				</div><!-- .content-box-inner -->
		
			</div><!-- .content-box -->
		
		</article>
	
	</div><!-- #middle -->
	<div id="postInterviewData"></div>
	<#include "/private/common/global_footer.ftl"/>

</div><!-- #wrapper -->
<div style="display:none" id ="temp"></div>
<script type="text/javascript" src="<@spring.url '/design/default/js/jquery.min.js' />"></script>
<script type="text/javascript" src="<@spring.url '/design/default/js/libraries.js'/>"></script>
<script type="text/javascript" src="<@spring.url '/design/default/js/script.js'/>"></script>
<script type="text/javascript" src="<@spring.url '/design/default/js/interviewer/interview.js'/>"></script>
</body>
</html>
</section>
