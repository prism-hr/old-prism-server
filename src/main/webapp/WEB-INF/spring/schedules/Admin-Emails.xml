<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN 2.0//EN" "http://www.springframework.org/dtd/spring-beans-2.0.dtd">
<beans>

    <!-- validation reminders -->
    <bean id="adminValidationReminderTimerTask" class="com.zuehlke.pgadmissions.timers.RegisteredUserReminderTimerTask">
        <constructor-arg index="0" ref="sessionFactoryMail" />
        <constructor-arg index="1" ref="mailApplicationDAO" />
        <constructor-arg index="2" ref="adminMailSender" />
        <constructor-arg index="3" value="VALIDATION_REMINDER" />
        <constructor-arg index="4" value="VALIDATION" />
        <constructor-arg index="5" value="validation.request.reminder" />
        <constructor-arg index="6" value="APPLICATION_VALIDATION_REMINDER" />
        <constructor-arg index="7" value="validation.request.reminder" />
        <constructor-arg index="8" value="APPLICATION_VALIDATION_REMINDER" />
        <constructor-arg index="9" ref="mailEmailTemplateService" />
    </bean>

    <bean id="adminValidationReminderSchedule" class="org.springframework.scheduling.timer.ScheduledTimerTask">
        <property name="delay" value="${delay.1}" />
        <property name="period" value="${email.schedule.period.milliseconds}" />
        <property name="timerTask" ref="adminValidationReminderTimerTask" />
    </bean>

    <!-- Review notifications -->
    <bean id="adminReviewFeedbackNotificationTimerTask" class="com.zuehlke.pgadmissions.timers.AdminReviewFeedbackNotificationTask">
        <constructor-arg index="0" ref="sessionFactoryMail" />
        <constructor-arg index="1" ref="adminMailSender" />
        <constructor-arg index="2" ref="mailCommentService" />
    </bean>

    <bean id="adminReviewFeedbackNotificationSchedule" class="org.springframework.scheduling.timer.ScheduledTimerTask">
        <property name="delay" value="${delay.2}" />
        <property name="period" value="${email.schedule.period.milliseconds}" />
        <property name="timerTask" ref="adminReviewFeedbackNotificationTimerTask" />
    </bean>

    <bean id="adminAssignedReviewerNotificationTimerTask" class="com.zuehlke.pgadmissions.timers.AdminReviewerAssignedNotificationTask">
        <constructor-arg index="0" ref="sessionFactoryMail" />
        <constructor-arg index="1" ref="adminMailSender" />
        <constructor-arg index="2" ref="mailReviewerDAO" />
    </bean>

    <bean id="adminAssignedReviewerNotificationSchedule" class="org.springframework.scheduling.timer.ScheduledTimerTask">
        <property name="delay" value="${delay.3}" />
        <property name="period" value="${email.schedule.period.milliseconds}" />
        <property name="timerTask" ref="adminAssignedReviewerNotificationTimerTask" />
    </bean>

    <bean id="adminReviewReminderTimerTask" class="com.zuehlke.pgadmissions.timers.RegisteredUserReminderTimerTask">
        <constructor-arg index="0" ref="sessionFactoryMail" />
        <constructor-arg index="1" ref="mailApplicationDAO" />
        <constructor-arg index="2" ref="adminMailSender" />
        <constructor-arg index="3" value="REVIEW_REMINDER" />
        <constructor-arg index="4" value="REVIEW" />
        <constructor-arg index="5" value="review.evaluation" />
        <constructor-arg index="6" value="APPLICATION_REVIEW_REMINDER_FIRST" />
        <constructor-arg index="7" value="review.evaluation.reminder" />
        <constructor-arg index="8" value="APPLICATION_REVIEW_REMINDER" />
        <constructor-arg index="9" ref="mailEmailTemplateService" />
    </bean>

    <bean id="adminReviewReminderSchedule" class="org.springframework.scheduling.timer.ScheduledTimerTask">
        <property name="delay" value="${delay.4}" />
        <property name="period" value="${email.schedule.period.milliseconds}" />
        <property name="timerTask" ref="adminReviewReminderTimerTask" />
    </bean>

    <!-- Interview notifications -->
    <bean id="adminInterviewFeedbackNotificationTimerTask" class="com.zuehlke.pgadmissions.timers.AdminInterviewFeedbackNotificationTask">
        <constructor-arg index="0" ref="sessionFactoryMail" />
        <constructor-arg index="1" ref="adminMailSender" />
        <constructor-arg index="2" ref="mailCommentService" />
    </bean>
    <bean id="adminInterviewFeedbackNotificationSchedule" class="org.springframework.scheduling.timer.ScheduledTimerTask">
        <property name="delay" value="${delay.5}" />
        <property name="period" value="${email.schedule.period.milliseconds}" />
        <property name="timerTask" ref="adminInterviewFeedbackNotificationTimerTask" />
    </bean>

    <bean id="adminInterviewReminderTimerTask" class="com.zuehlke.pgadmissions.timers.RegisteredUserReminderTimerTask">
        <constructor-arg index="0" ref="sessionFactoryMail" />
        <constructor-arg index="1" ref="mailApplicationDAO" />
        <constructor-arg index="2" ref="adminMailSender" />
        <constructor-arg index="3" value="INTERVIEW_REMINDER" />
        <constructor-arg index="4" value="INTERVIEW" />
        <constructor-arg index="5" value="interview.feedback.evaluation" />
        <constructor-arg index="6" value="APPLICATION_INTERVIEW_REMINDER_FIRST" />
        <constructor-arg index="7" value="interview.feedback.evaluation.reminder" />
        <constructor-arg index="8" value="APPLICATION_INTERVIEW_REMINDER" />
        <constructor-arg index="9" ref="mailEmailTemplateService" />
    </bean>

    <bean id="adminInterviewReminderSchedule" class="org.springframework.scheduling.timer.ScheduledTimerTask">
        <property name="delay" value="${delay.6}" />
        <property name="period" value="${email.schedule.period.milliseconds}" />
        <property name="timerTask" ref="adminInterviewReminderTimerTask" />
    </bean>

    <!-- Submission notifications -->
    <bean id="adminSubmissionNotificationTimerTask" class="com.zuehlke.pgadmissions.timers.StateChangeNotificationTask">
        <constructor-arg index="0" ref="sessionFactoryMail" />
        <constructor-arg index="1" ref="mailApplicationDAO" />
        <constructor-arg index="2" ref="adminMailSender" />
        <constructor-arg index="3" value="UPDATED_NOTIFICATION" />
        <constructor-arg index="4" value="VALIDATION" />
        <constructor-arg index="5" value="validation.request" />
        <constructor-arg index="6" value="APPLICATION_SUBMIT_CONFIRMATION_ADMIN" />
        <constructor-arg index="7" ref="mailEmailTemplateService" />
    </bean>

    <bean id="adminSubmissionNotificationSchedule" class="org.springframework.scheduling.timer.ScheduledTimerTask">
        <property name="delay" value="${delay.7}" />
        <property name="period" value="${email.schedule.period.milliseconds}" />
        <property name="timerTask" ref="adminSubmissionNotificationTimerTask" />
    </bean>

    <!-- update notifications -->
    <bean id="updateNotificationTimerTask" class="com.zuehlke.pgadmissions.timers.ApplicationUpdatedNotificationTask">
        <constructor-arg index="0" ref="sessionFactoryMail" />
        <constructor-arg index="1" ref="mailServiceForTimers" />
        <constructor-arg index="2" ref="mailApplicationDAO" />
    </bean>

    <bean id="updateNotificationSchedule" class="org.springframework.scheduling.timer.ScheduledTimerTask">
        <property name="delay" value="${delay.8}" />
        <property name="period" value="${email.schedule.period.milliseconds}" />
        <property name="timerTask" ref="updateNotificationTimerTask" />
    </bean>

    <!-- reject notification -->
    <bean id="adminRejectNotificationTask" class="com.zuehlke.pgadmissions.timers.AdminRejectNotificationTask">
        <constructor-arg index="0" ref="sessionFactoryMail" />
        <constructor-arg index="1" ref="adminMailSender" />
        <constructor-arg index="2" ref="mailApplicationDAO" />
    </bean>

    <bean id="adminRejectNotificationSchedule" class="org.springframework.scheduling.timer.ScheduledTimerTask">
        <property name="delay" value="${delay.9}" />
        <property name="period" value="${email.schedule.period.milliseconds}" />
        <property name="timerTask" ref="adminRejectNotificationTask" />
    </bean>

    <!-- approval notification handled in Approver-Emails.xml bean id: approverAdminApprovalNotificationTimerTask -->

    <!-- approved notification -->

    <bean id="adminApprovedNotificationTask" class="com.zuehlke.pgadmissions.timers.AdminApprovedNotificationTask">
        <constructor-arg index="0" ref="sessionFactoryMail" />
        <constructor-arg index="1" ref="adminMailSender" />
        <constructor-arg index="2" ref="mailApplicationDAO" />
    </bean>

    <bean id="adminApprovedNotificationSchedule" class="org.springframework.scheduling.timer.ScheduledTimerTask">
        <property name="delay" value="${delay.10}" />
        <property name="period" value="${email.schedule.period.milliseconds}" />
        <property name="timerTask" ref="adminApprovedNotificationTask" />
    </bean>
</beans>