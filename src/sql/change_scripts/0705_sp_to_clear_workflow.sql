CREATE PROCEDURE SP_CLEAR_WORKFLOW (
	IN in_restore_default_email INT(1) UNSIGNED)
BEGIN

	DELETE
	FROM ROLE_TRANSITION;

	DELETE
	FROM STATE_TRANSITION_PROPAGATION;

	DELETE
	FROM STATE_TRANSITION_PENDING;
	
	DELETE
	FROM STATE_TRANSITION;

	DELETE
	FROM STATE_ACTION_ASSIGNMENT;

	DELETE
	FROM STATE_ACTION_NOTIFICATION;

	DELETE
	FROM STATE_ACTION;

	DELETE
	FROM ACTION_REDACTION;

	DELETE
	FROM ROLE_EXCLUSION;

	IF in_restore_default_email = 1 THEN

		DELETE
		FROM NOTIFICATION_CONFIGURATION;

		DELETE
		FROM NOTIFICATION_TEMPLATE_VERSION;

	END IF;
	
END

CALL SP_CLEAR_WORKFLOW(1)
;

